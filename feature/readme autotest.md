# Автотестирование
Тестирование проводится и построено на базе программного продукта: vanessa-automation
https://pr-mex.github.io/vanessa-automation/dev/

Автотестирование имеет тринадцать сценариев. Порядок запуска обозначен порядковым номером в начале имени файла. Вторым после номера, в имени файла, обозначена сценарная роль от которой должен выполняться сценарий. Тестирование рассчитано на работу с пустой ИБ. Циклический запуск всех сценариев не предполагается, требуется предварительное удаление данных созданных с 04 по 10 сценарии. Для этого можно использовать 11 сценарий.

## Инструкции к файлам сценариев:

### файл: 01 Администратор - Создание ПрофилейДосутпаИПользователейИБ.feature
- Пользователи для запуска сценария: <нет>
- Результат сценария: 
1.	Наполнение предопределенных профилей доступа согласно их функционалу. 
Профили: Бухгалтер ИТФирмы (ВКМ); Кадровик-расчетчик (ВКМ); Менеджер (ВКМ); Специалист (ВКМ).
2.	Создан профиль доступа: Базовый профиль ИТ-фирмы. Наполняется базовыми ролями для работы с типовыми данными. 
3.	Созданы пользователи ИБ. Установка принадлежности пользователей профилю доступа, согласно их функционалу по ТЗ.
Пользователи ИБ: Администратор; Бухгалтер ИТ-Фирмы (ВКМ); Кадровик ИТ (ВКМ); Менеджер (ВКМ) 01; Менеджер (ВКМ) 02; Специалист (ВКМ) 01; Специалист (ВКМ) 02.

### файл: 02 Администратор - Служебные настройки ИБ.feature
- Пользователи для запуска сценария: Администратор
- Результат сценария:
1.	В спр. Группа номенклатуры, создан элемент: Услуги;
2.	В спр. Единицы измерения, создан элемент: шт.;
3.	В спр. Номенклатура, созданы элементы: Услуги-ИТ Абонетская плата; Услуги-ИТ Работа специалиста;
4.	Заполнена константа: Номенклатура абонентская плата (ВКМ);
5.	Заполнена константа: Номенклатура работы специалиста (ВКМ);
6.	Заполен РС Графики работы, с 2022 по 2024 год;
7.	Заполнена константа: Минимальный оклад (ВКМ); 

### файл: 03 Администратор - ЗаполнениеНастроекДляТелеграмБота.feature
- Пользователь для запуска сценария: Администратор
- Требуется предварительное заполнение переменных: П_ИдентификаторГруппыДляОповещения; П_ТокенУправленияТелеграмБотом;
Более подробно о том как можно получить данные для переменных в материалах:
https://github.com/netology-code/fonecmid-diplom/blob/main/tasks/telegram.md
https://core.telegram.org/bots/api
- Результат сценария:
1.	Включено и настроено регламентное задание: Отправка сообщений в телеграм бота (ВКМ);
2.	Заполнена константа: Идентификатор группы для оповещения (ВКМ);
3.	Заполнена константа: Токен управления телеграм-ботом (ВКМ);

### файл: 04 Менеджер - Наполнение НСИ.feature
- Пользователи для запуска сценария: Менеджер (ВКМ) 01; Менеджер (ВКМ) 02;
- Результат сценария:
1.	В спр. Физические лица (ВКМ), создано 13 элементов;
2.	В спр. Организации, создан элемент: Наша ОРГАНИЗАЦИЯ;
3.	В спр. Контрагенты, созданы элементы: Розничный покупатель; Поставкин ООО; Покупашкин ООО; Иванов ИИ ИП; Пупкин ПП ИП;
4.	В спр. Договоры контрагентов, создано 13 элементов;

### файл: 05 Кадровик - Заполнение периодических значений и документов.feature
- Пользователи для запуска сценария: Кадровик ИТ (ВКМ);
- Результат сценария:
1.	В РС Условия оплаты труда (ВКМ), создано 13 записей;
2.	В док. Графики отпусков (ВКМ), создан 1 документ;

### файл: 06.01 Менеджер - Создание документов Обслуживание клиентов (ВКМ) .feature
- Пользователи для запуска сценария: Менеджер (ВКМ) 01; Менеджер (ВКМ) 02;
- Результат сценария:
1.	В док. Обслуживания клиентов (ВКМ), создано 18, изменено 2 документа;

### файл: 06.02 Специалист - Закрытие документов Обслуживание клиентов (ВКМ) .feature
- Пользователи для запуска сценария: Специалист (ВКМ) 01; Специалист (ВКМ) 02;
- Требуется предварительное заполнение переменных: П_ПутьКФайлу;
Указывается полный путь к файлу для прикрепления к документу Обслуживание клиентов (ВКМ);
- Результат сценария:
1.	В док. Обслуживания клиентов (ВКМ), заполнена табличная часть и прикреплен файл у 18 документов;

### файл: 07.01 Бухгалтер - Создание документов Реализация товаров.feature
- Пользователи для запуска сценария: Бухгалтер ИТ-Фирмы (ВКМ);
- Результат сценария:
1.	В док. Обслуживания клиентов (ВКМ), создано 2 документа;

### файл: 07.02 Бухгалтер - Массовое создание документов Реализация товаров.feature
- Пользователи для запуска сценария: Бухгалтер ИТ-Фирмы (ВКМ);
- Результат сценария:
С помощью обработки Массовое создание актов (ВКМ_), изменено создано 58 документов;

### файл: 08 Бухгалтер - Формирование отчёта Анализ выставленных актов.feature
- Пользователи для запуска сценария: Бухгалтер ИТ-Фирмы (ВКМ);
- Результат сценария:
1.	Сформирован отчет Анализ выставленных актов (ВКМ), за период с 01.01.2023г. по 31.12.2024г.;

### файл: 09 Кадровик - Начисления зарплаты.feature
- Пользователи для запуска сценария: Кадровик ИТ (ВКМ);
- Результат сценария:
1.	В док. Начисление зарплаты (ВКМ), создано 5 документов;
2.	В док. Начисление зарплаты (ВКМ), создано 7 документов;

### файл: 10 Кадровик - Выплаты зарплаты.feature
- Пользователи для запуска сценария: Кадровик ИТ (ВКМ);
- Результат сценария:
1.	В док. Выплата зарплаты (ВКМ), создано 13 документов;

### файл: 11 Администратор - Чистка тестовых данных.feature
- Пользователь для запуска сценария: Администратор
- Результат сценария:
1.	Удалены все ранее созданные элементы с 04 по 10 сценарии.