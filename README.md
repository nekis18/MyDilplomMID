# Инсткуция по начальной настройке.
Все добавленные объекты конфигурации имеют префикс или постфикс – «ВКМ».

## ПРОФИЛИ БЕЗОПАСНОСТИ.
После обновления конфигурации требуется:

### 1.	Заполнить созданные предопределенные профили безопасности.
    a.	В профиль «Бухгалтер ИТФирмы (ВКМ)», добавить роли:
        •	ВКМ_Бухгалтер ИТ-Фирмы
        •	ВКМ_Добавление изменение документов обслуживание клиента
        •	ВКМ_Массовое создание актов
    b.	В профиль «Кадровик-расчетчик (ВКМ)», добавить роли:
        •	ВКМ_Кадровик-расчётчик
    c.	В профиль «Менеджер (ВКМ)», добавить роли:
        •	ВКМ_Добавление изменение документов обслуживание клиента
    d.	В профиль «Специалист (ВКМ)», добавить роли:
        •	ВКМ_Добавление изменение документов обслуживание клиента
        •	ВКМ_Специалист

### 2.	Присвоить заполненные профили безопасности пользователям ИБ согласно их должностным обязанностям.

## ОБСЛУЖИВАНИЕ КЛИЕНТОВ (РАБОТА С ЗАЯВКАМИ)
    Объекты, относящиеся к данному функционалу расположены в разделе «Обслуживание клиентов (ВКМ)».

### 1.	Для использования учета выполненных работ специалистами и выставления ежемесячных счетов по абонентской плате необходимо заполнить значения констант:
    a.	«Номенклатура абонентская плата (ВКМ)». Указывается номенклатура которая будет добавляться в табличную часть док. Реализация товаров, для выставления ежемесячных сумм за абонентскую плату. Располагается в подразделе «Сервис».
    b.	«Номенклатура работы специалиста (ВКМ)». Указывается номенклатура которая будет добавляться в табличную часть док. Реализация товаров, для выставления остаточных сумм за выполненные работы «специалистами». Располагается в подразделе «Сервис».

### 2.	Добавлен документ «Обслуживание клиента (ВКМ)».
    a.	При проведении нового документа создается Уведомление телеграм-боту с описанием состава заявки.
    b.	При изменении значимых полей в проведенном документе, при его записи, создается Уведомление телеграм-боту с описанием изменений.
    c.	При проведении документа: 
        •	Регистрируется сумма и количество выполненных работ специалистом для контрагента. Рассчитывается по действующему значению «Стоимость часа работ (ВКМ)» из договора контрагента.
        •	 Регистрируется сумма и количество выполненных работ специалистом для расчета заработной платы. Рассчитывается по действующему значению «Процент от работ» из РС Условия оплаты сотрудников» от «Стоимость часа работ (ВКМ)» из договора контрагента.
    Располагается в подразделе «Документы».

### 3.	Док. Реализация товаров. 
    a.	На вкладке «Услуги», над табличной частью, добавлена кнопка «Заполнить (ВКМ)». При нажатии на кнопку происходит очищение данной табличной части(ТЧ). Далее она заполняется данными по указанному договору. При этому в ТЧ может быть добавлено две строки с номенклатурой, указанной в константах п.1.
        • По константе «Номенклатура абонентская плата (ВКМ)»: В строку устанавливается сумма из договора контрагента указанного в шапке документа. 
        • По константе «Номенклатура работы специалиста (ВКМ)». В строку устанавливается сумма за выполненные работы в течении месяца.
        • К обработке берутся действующие договора контрагентов с видом «Абонентское обслуживание». 
    b.	При проведении документа: 
        •	Регистрируется закрывающая сумма и количество выполненных работ специалистом для контрагента. Рассчитывается по действующему значению «Стоимость часа работ (ВКМ)» из договора контрагента.
    Располагается в подразделе «Документы».

### 4.	Добавлена обработка «Массовое создание актов (ВКМ)».
Производит массовое обновление или создание документов Реализация товаров по дествующим договорам с видом «Абонентское обслуживание». Заполнение ТЧ документов работает по аналогии с механикой заполнения по кнопке «Заполнить (ВКМ)», на вкладке «Услуги», в документах Реализации товаров и услуг.
    a.	Период: указывается дата периода(месяца) за который буду созданы документы Реализация товаров.
    b.	При нажатии кнопки «Создать документы»:
        •	Перезаполняются существующие документы по договорами контрагентов, с видом договора «Абонентское обслуживание».
        •	Все созданные или обновленные документы по договорам контрагентов будут отражены в табличной части обработки.

## ТЕЛЕГРАМ-БОТ
Объекты, относящиеся к данному функционалу расположены в разделе «Обслуживание клиентов (ВКМ)».
Для корректного использования Телеграмм-бота(группы), необходимо:

### 1.	Получить заполнить: «Идентификатор группы для оповещения» и «Токен управления телеграм-ботом».
    Одноименные константы находятся в располагается в подразделе «Сервис».
    Более подробно о том как можно получить эти данные в материалах:
    https://github.com/netology-code/fonecmid-diplom/blob/main/tasks/telegram.md
    https://core.telegram.org/bots/api

### 2.	Настроить расписание для созданного регламентного задания «Отправка сообщений в телеграм бота (ВКМ)».
    a.	При удачной отправке элемента спр. Уведомления телеграм-боту, он удаляется.

### 3.	Добавлен новый справочник «Уведомления телеграм-боту (ВКМ)». 
Располагается в подразделе «Справочники».

## УПРАВЛЕНЧЕСКАЯ ЗАРПЛАТА
Объекты, относящиеся к данному функционалу расположены в разделе «Расчет управленческой зарплаты (ВКМ)».

### 1.	Добавлен регистр сведений «Условия оплаты сотрудников (ВКМ)».
    a.	Данные заполняются на начало месяца.
    b.	В нём необходимо указывать оклад сотрудника. Значение оклада будет является базовым показателем для сотрудников работающих не в сдельной оплате труда. 
    c.	При сдельной оплате труда необходим о устанавливать галку «Сделка(специалист)» и устанавливать «Процент от работ» начисляемый ему за выполненные работы.
    Располагается в подразделе «См. также».

### 2.	Для сотрудников с сдельной оплатой труда необходимо заполнить «Минимальный оклад (ВКМ)». Располагается в подразделе «Сервис».

### 3.	Добавлен регистр сведений «График работы (ВКМ)». 
    На момент расчета заработной платы данный регистр должен быть заполнен значениями. Заполнение графика рекомендуется выполнять за целый год.
    a.	Заполнение регистра выполняется добавленной обработкой «Заполнение графика ВКМ».
        • Выбор периода: Указывается период за который будут внесены значения.
        • График работы: Наименование графика работы. Важно! Не подразумевается использование нескольких наименований, а тем более пересечений между разными графиками.
        • Выходные дни: Цифрами через запятую указываются выходные дни недели.
    Располагается в подразделе «См. также».

### 4.	Добавлен справочник «Физические лица (ВКМ)». 
    Заносятся все сотрудники компании для учета работ и расчета заработной платы.
    Располагается в подразделе «Справочники».

### 5.	Добавлен документ «График отпусков (ВКМ)».
    a.	Над табличной частью, добавлена кнопка «Проверить отпуска». При нажатии на кнопку, по ТЧ, происходит анализ количества дней отпусков по сотруднику. Если суммарное количество дней превышает 28 дней, все строки с ним будут выделены красным цветом. данной табличной части(ТЧ). 
    b.	Над табличной частью, добавлена кнопка «Анализ графика». При нажатии на кнопку, открывается окно с диаграммой ганта, в которой отражены значения занесенных отпусков документа.
    c.	При проведении документа: 
        •	Регистрируется период и количество дней отпуска по сотруднику. 
    Располагается в подразделе «Документы».

### 6.	Добавлен документ «Начисление зарплаты (ВКМ)».
    Заполняется данными за прошедший период(месяц) от даты документа. По ТЧ реализован расчет по видам начислений: Оклад; Отпуск; Вид начислений - Процент за работы, является служебным и используется только при расчете регистрации сдельной оплаты труда.
    a.	При проведении документа: 
        •	Регистрируется сумма начислений по сотруднику, за вычетом НДФЛ, для выплаты зарплаты.
        •	Регистрируется закрывающие сумма и количество выполненных работ специалистом для расчета заработной платы.
        •	Регистрируется рассчитанные основные начисления.
    Располагается в подразделе «Документы».

### 7.	Добавлен документ «Начисление фиксированной премии (ВКМ)».
    Заполняется данными на текущий период(месяц) по дате документа. 
    При проведении документа: 
        •	Регистрируется сумма начислений по сотруднику, за вычетом НДФЛ, для выплаты зарплаты.
        •	Регистрируется рассчитанные дополнительные начисления.
    Располагается в подразделе «Документы».

### 8.	Добавлен документ «Выплата зарплаты (ВКМ)».
    a.	Над табличной частью, добавлена кнопка «Заполнить по текущим остаткам». При нажатии на кнопку, ТЧ заполняется остаточными суммами начислений заработной платы на дату документа.
    b.	При проведении документа: 
        •	Регистрируется закрывающие сумма начислений по сотруднику, для выплаты зарплаты.
    Располагается в подразделе «Документы».

























### файл: 02 Администратор - Служебные настройки ИБ.feature
- Пользователи для запуска сценария: Администратор
- Результат сценария:
1.	В спр. Группа номенклатуры, создан элемент: Услуги;
2.	В спр. Единицы измерения, создан элемент: шт.;
3.	В спр. Номенклатура, созданы элементы: Услуги-ИТ Абонетская плата; Услуги-ИТ Работа специалиста;
4.	Заполнена константа: Номенклатура абонентская плата (ВКМ);
5.	Заполнена константа: Номенклатура работы специалиста (ВКМ);
6.	Заполен РС Графики работы, с 2022 по 2024 год;
7.	Заполнена константа: Минимальный оклад (ВКМ); 

### файл: 03 Администратор - ЗаполнениеНастроекДляТелеграмБота.feature
- Пользователь для запуска сценария: Администратор
- Требуется предварительное заполнение переменных: П_ИдентификаторГруппыДляОповещения; П_ТокенУправленияТелеграмБотом;
Более подробно о том как можно получить данные для переменных в материалах:
https://github.com/netology-code/fonecmid-diplom/blob/main/tasks/telegram.md
https://core.telegram.org/bots/api
- Результат сценария:
1.	Включено и настроено регламентное задание: Отправка сообщений в телеграм бота (ВКМ);
2.	Заполнена константа: Идентификатор группы для оповещения (ВКМ);
3.	Заполнена константа: Токен управления телеграм-ботом (ВКМ);

### файл: 04 Менеджер - Наполнение НСИ.feature
- Пользователи для запуска сценария: Менеджер (ВКМ) 01; Менеджер (ВКМ) 02;
- Результат сценария:
1.	В спр. Физические лица (ВКМ), создано 13 элементов;
2.	В спр. Организации, создан элемент: Наша ОРГАНИЗАЦИЯ;
3.	В спр. Контрагенты, созданы элементы: Розничный покупатель; Поставкин ООО; Покупашкин ООО; Иванов ИИ ИП; Пупкин ПП ИП;
4.	В спр. Договоры контрагентов, создано 13 элементов;

### файл: 05 Кадровик - Заполнение периодических значений и документов.feature
- Пользователи для запуска сценария: Кадровик ИТ (ВКМ);
- Результат сценария:
1.	В РС Условия оплаты труда (ВКМ), создано 13 записей;
2.	В док. Графики отпусков (ВКМ), создан 1 документ;

### файл: 06.01 Менеджер - Создание документов Обслуживание клиентов (ВКМ) .feature
- Пользователи для запуска сценария: Менеджер (ВКМ) 01; Менеджер (ВКМ) 02;
- Результат сценария:
1.	В док. Обслуживания клиентов (ВКМ), создано 18, изменено 2 документа;

### файл: 06.02 Специалист - Закрытие документов Обслуживание клиентов (ВКМ) .feature
- Пользователи для запуска сценария: Специалист (ВКМ) 01; Специалист (ВКМ) 02;
- Требуется предварительное заполнение переменных: П_ПутьКФайлу;
Указывается полный путь к файлу для прикрепления к документу Обслуживание клиентов (ВКМ);
- Результат сценария:
1.	В док. Обслуживания клиентов (ВКМ), заполнена табличная часть и прикреплен файл у 18 документов;

### файл: 07.01 Бухгалтер - Создание документов Реализация товаров.feature
- Пользователи для запуска сценария: Бухгалтер ИТ-Фирмы (ВКМ);
- Результат сценария:
1.	В док. Обслуживания клиентов (ВКМ), создано 2 документа;

### файл: 07.02 Бухгалтер - Массовое создание документов Реализация товаров.feature
- Пользователи для запуска сценария: Бухгалтер ИТ-Фирмы (ВКМ);
- Результат сценария:
С помощью обработки Массовое создание актов (ВКМ_), изменено создано 58 документов;

### файл: 08 Бухгалтер - Формирование отчёта Анализ выставленных актов.feature
- Пользователи для запуска сценария: Бухгалтер ИТ-Фирмы (ВКМ);
- Результат сценария:
1.	Сформирован отчет Анализ выставленных актов (ВКМ), за период с 01.01.2023г. по 31.12.2024г.;

### файл: 09 Кадровик - Начисления зарплаты.feature
- Пользователи для запуска сценария: Кадровик ИТ (ВКМ);
- Результат сценария:
1.	В док. Начисление зарплаты (ВКМ), создано 5 документов;
2.	В док. Начисление зарплаты (ВКМ), создано 7 документов;

### файл: 10 Кадровик - Выплаты зарплаты.feature
- Пользователи для запуска сценария: Кадровик ИТ (ВКМ);
- Результат сценария:
1.	В док. Выплата зарплаты (ВКМ), создано 13 документов;

### файл: 11 Администратор - Чистка тестовых данных.feature
- Пользователь для запуска сценария: Администратор
- Результат сценария:
1.	Удалены все ранее созданные элементы с 04 по 10 сценарии.